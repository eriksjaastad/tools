# Cursor Rules - AI Router

## üìù Markdown & Documentation Standards

### YAML Frontmatter (CRITICAL)
- **ALWAYS preserve YAML frontmatter** when editing `.md` files.
- Every project document should have frontmatter following the standard.

### Obsidian Wikilinks
- Use `[[ai-router]]` to link to this project.
- Link to `[[00_Index_ai-router]]` for the primary index.

---

## üö´ Context Window Management

**NEVER waste context on:**
- `venv/`, `__pycache__/`, `.git/`
- `data/logs/` - Large telemetry files.

---

## What This Project Is
AI Router is a tool to optimize AI costs and performance by routing requests between local (Ollama) and cloud (OpenAI) models.

---

## Philosophy
- **Local-first** architecture with cloud fallback.
- **Data-driven** decisions via telemetry.
- **Zero overhead** - fast, efficient routing.

---

## üìã Definition of Done (DoD)
- [ ] Code is documented with type hints.
- [ ] Technical changes are logged to `_obsidian/WARDEN_LOG.yaml`.
- [ ] `00_Index_ai-router.md` is updated.
- [ ] Telemetry logging is verified for any new features.

---

## ‚ö†Ô∏è Critical Constraints
- NEVER hard-code API keys, secrets, or credentials.
- NEVER use absolute paths (e.g., `[USER_HOME]/...`). Use relative paths.
- Local models MUST have `num_ctx` explicitly set.

---

## üß† Agent Skills Library
Reference skills from: `[USER_HOME]/projects/agent-skills-library/`

**Active Skill:**
- **AI Router Delegation:** Follow the playbook at `[USER_HOME]/projects/agent-skills-library/playbooks/ai-router-delegation/README.md` to act as an expert Floor Manager.

---

## üìî Journal Entry Rules
- **ONLY** write journal entries when Erik explicitly asks.
- Location: `[USER_HOME]/projects/ai-journal/entries/2026/`
- Format: `YYYY-MM-DDTHH-MM-SSZ__ai-writer__descriptive-title.md`

